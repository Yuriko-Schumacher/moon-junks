var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function u(t,n,e,r){if(t){const i=s(t,n,e,r);return t[0](i)}}function s(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function c(t,n,e,r){if(t[2]&&r){const i=t[2](r(e));if(void 0===n.dirty)return i;if("object"==typeof i){const t=[],e=Math.max(n.dirty.length,i.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|i[r];return t}return n.dirty|i}return n.dirty}function l(t,n,e,r,i,o){if(i){const a=s(n,e,r,o);t.p(a,i)}}function f(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}const h="undefined"!=typeof window;let p=h?()=>window.performance.now():()=>Date.now(),d=h?t=>requestAnimationFrame(t):t;const g=new Set;function v(t){g.forEach((n=>{n.c(t)||(g.delete(n),n.f())})),0!==g.size&&d(v)}function y(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function w(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function M(){return x(" ")}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function k(t,n,e){n in t?t[n]="boolean"==typeof t[n]&&""===e||e:$(t,n,e)}function E(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}let A;function S(t){A=t}function N(){if(!A)throw new Error("Function called outside component initialization");return A}function j(t){N().$$.on_mount.push(t)}const C=[],q=[],T=[],O=[],P=Promise.resolve();let R=!1;function z(t){T.push(t)}function I(t){O.push(t)}let L=!1;const D=new Set;function H(){if(!L){L=!0;do{for(let t=0;t<C.length;t+=1){const n=C[t];S(n),U(n.$$)}for(S(null),C.length=0;q.length;)q.pop()();for(let t=0;t<T.length;t+=1){const n=T[t];D.has(n)||(D.add(n),n())}T.length=0}while(C.length);for(;O.length;)O.pop()();R=!1,L=!1,D.clear()}}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(z)}}const X=new Set;let B;function F(t,n){t&&t.i&&(X.delete(t),t.i(n))}function Y(t,n,e,r){if(t&&t.o){if(X.has(t))return;X.add(t),B.c.push((()=>{X.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function V(t,n){const e=n.token={};function i(t,i,o,a){if(n.token!==e)return;n.resolved=a;let u=n.ctx;void 0!==o&&(u=u.slice(),u[o]=a);const s=t&&(n.current=t)(u);let c=!1;n.block&&(n.blocks?n.blocks.forEach(((t,e)=>{e!==i&&t&&(B={r:0,c:[],p:B},Y(t,1,1,(()=>{n.blocks[e]===t&&(n.blocks[e]=null)})),B.r||r(B.c),B=B.p)})):n.block.d(1),s.c(),F(s,1),s.m(n.mount(),n.anchor),c=!0),n.block=s,n.blocks&&(n.blocks[i]=s),c&&H()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const e=N();if(t.then((t=>{S(e),i(n.then,1,n.value,t),S(null)}),(t=>{if(S(e),i(n.catch,2,n.error,t),S(null),!n.hasCatch)throw t})),n.current!==n.pending)return i(n.pending,0),!0}else{if(n.current!==n.then)return i(n.then,1,n.value,t),!0;n.resolved=t}var o}const W="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Z(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function J(t){t&&t.c()}function G(t,e,o,a){const{fragment:u,on_mount:s,on_destroy:c,after_update:l}=t.$$;u&&u.m(e,o),a||z((()=>{const e=s.map(n).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(z)}function K(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Q(t,n){-1===t.$$.dirty[0]&&(C.push(t),R||(R=!0,P.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function tt(n,i,o,a,u,s,c,l=[-1]){const f=A;S(n);const h=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:e(),dirty:l,skip_bound:!1,root:i.target||f.$$.root};c&&c(h.root);let p=!1;if(h.ctx=o?o(n,i.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),p&&Q(n,t)),e})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(w)}else h.fragment&&h.fragment.c();i.intro&&F(n.$$.fragment),G(n,i.target,i.anchor,i.customElement),H()}S(f)}class nt{$destroy(){K(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function et(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function rt(t){let n=t,e=t,r=t;function i(t,n,i=0,o=t.length){if(i<o){if(0!==e(n,n))return o;do{const e=i+o>>>1;r(t[e],n)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length&&(n=(n,e)=>t(n)-e,e=et,r=(n,e)=>et(t(n),e)),{left:i,center:function(t,e,r=0,o=t.length){const a=i(t,e,r,o-1);return a>r&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,i=0,o=t.length){if(i<o){if(0!==e(n,n))return o;do{const e=i+o>>>1;r(t[e],n)<=0?i=e+1:o=e}while(i<o)}return i}}}const it=rt(et).right;rt((function(t){return null===t?NaN:+t})).center;var ot=it;class at{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}class ut extends Map{constructor(t,n=ct){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(st(this,t))}has(t){return super.has(st(this,t))}set(t,n){return super.set(function({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}(this,t),n)}delete(t){return super.delete(function({_intern:t,_key:n},e){const r=n(e);t.has(r)&&(e=t.get(r),t.delete(r));return e}(this,t))}}function st({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function ct(t){return null!==t&&"object"==typeof t?t.valueOf():t}var lt=Math.sqrt(50),ft=Math.sqrt(10),ht=Math.sqrt(2);function pt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=lt?10:o>=ft?5:o>=ht?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=lt?10:o>=ft?5:o>=ht?2:1)}function dt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function gt(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var vt={value:()=>{}};function yt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new mt(r)}function mt(t){this._=t}function wt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function bt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function _t(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=vt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}mt.prototype=yt.prototype={constructor:mt,on:function(t,n){var e,r=this._,i=wt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=_t(r[e],t.name,n);else if(null==n)for(e in r)r[e]=_t(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=bt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new mt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var xt="http://www.w3.org/1999/xhtml",Mt={svg:"http://www.w3.org/2000/svg",xhtml:xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $t(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Mt.hasOwnProperty(n)?{space:Mt[n],local:t}:t}function kt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xt&&n.documentElement.namespaceURI===xt?n.createElement(t):n.createElementNS(e,t)}}function Et(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function At(t){var n=$t(t);return(n.local?Et:kt)(n)}function St(){}function Nt(t){return null==t?St:function(){return this.querySelector(t)}}function jt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Ct(){return[]}function qt(t){return null==t?Ct:function(){return this.querySelectorAll(t)}}function Tt(t){return function(){return this.matches(t)}}function Ot(t){return function(n){return n.matches(t)}}var Pt=Array.prototype.find;function Rt(){return this.firstElementChild}var zt=Array.prototype.filter;function It(){return Array.from(this.children)}function Lt(t){return new Array(t.length)}function Dt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Ht(t){return function(){return t}}function Ut(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Dt(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function Xt(t,n,e,r,i,o,a){var u,s,c,l=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=c=a.call(s,s.__data__,u,n)+"",l.has(c)?i[u]=s:l.set(c,s));for(u=0;u<h;++u)c=a.call(t,o[u],u,o)+"",(s=l.get(c))?(r[u]=s,s.__data__=o[u],l.delete(c)):e[u]=new Dt(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l.get(p[u])===s&&(i[u]=s)}function Bt(t){return t.__data__}function Ft(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Yt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Vt(t){return function(){this.removeAttribute(t)}}function Wt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zt(t,n){return function(){this.setAttribute(t,n)}}function Jt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Gt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Kt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Qt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function tn(t){return function(){this.style.removeProperty(t)}}function nn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function en(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function rn(t,n){return t.style.getPropertyValue(n)||Qt(t).getComputedStyle(t,null).getPropertyValue(n)}function on(t){return function(){delete this[t]}}function an(t,n){return function(){this[t]=n}}function un(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function sn(t){return t.trim().split(/^|\s+/)}function cn(t){return t.classList||new ln(t)}function ln(t){this._node=t,this._names=sn(t.getAttribute("class")||"")}function fn(t,n){for(var e=cn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function hn(t,n){for(var e=cn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function pn(t){return function(){fn(this,t)}}function dn(t){return function(){hn(this,t)}}function gn(t,n){return function(){(n.apply(this,arguments)?fn:hn)(this,t)}}function vn(){this.textContent=""}function yn(t){return function(){this.textContent=t}}function mn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function wn(){this.innerHTML=""}function bn(t){return function(){this.innerHTML=t}}function _n(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function xn(){this.nextSibling&&this.parentNode.appendChild(this)}function Mn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $n(){return null}function kn(){var t=this.parentNode;t&&t.removeChild(this)}function En(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function An(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Sn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Nn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function jn(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Cn(t,n,e){var r=Qt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function qn(t,n){return function(){return Cn(this,t,n)}}function Tn(t,n){return function(){return Cn(this,t,n.apply(this,arguments))}}Dt.prototype={constructor:Dt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ln.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var On=[null];function Pn(t,n){this._groups=t,this._parents=n}function Rn(){return new Pn([[document.documentElement]],On)}function zn(t){return"string"==typeof t?new Pn([[document.querySelector(t)]],[document.documentElement]):new Pn([[t]],On)}function In(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ln(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Dn(){}Pn.prototype=Rn.prototype={constructor:Pn,select:function(t){"function"!=typeof t&&(t=Nt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Pn(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return jt(t.apply(this,arguments))}}(t):qt(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Pn(r,i)},selectChild:function(t){return this.select(null==t?Rt:function(t){return function(){return Pt.call(this.children,t)}}("function"==typeof t?t:Ot(t)))},selectChildren:function(t){return this.selectAll(null==t?It:function(t){return function(){return zt.call(this.children,t)}}("function"==typeof t?t:Ot(t)))},filter:function(t){"function"!=typeof t&&(t=Tt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Pn(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Bt);var e=n?Xt:Ut,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Ht(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=Ft(t.call(l,l&&l.__data__,c,r)),d=p.length,g=u[c]=new Array(d),v=a[c]=new Array(d),y=s[c]=new Array(h);e(l,f,g,v,y,p,n);for(var m,w,b=0,_=0;b<d;++b)if(m=g[b]){for(b>=_&&(_=b+1);!(w=v[_])&&++_<d;);m._next=w||null}}return(a=new Pn(a,r))._enter=u,a._exit=s,a},enter:function(){return new Pn(this._enter||this._groups.map(Lt),this._parents)},exit:function(){return new Pn(this._exit||this._groups.map(Lt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var c,l=e[s],f=r[s],h=l.length,p=u[s]=new Array(h),d=0;d<h;++d)(c=l[d]||f[d])&&(p[d]=c);for(;s<i;++s)u[s]=e[s];return new Pn(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Yt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new Pn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=$t(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Wt:Vt:"function"==typeof n?e.local?Kt:Gt:e.local?Jt:Zt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?tn:"function"==typeof n?en:nn)(t,n,null==e?"":e)):rn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?on:"function"==typeof n?un:an)(t,n)):this.node()[t]},classed:function(t,n){var e=sn(t+"");if(arguments.length<2){for(var r=cn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?gn:n?pn:dn)(e,n))},text:function(t){return arguments.length?this.each(null==t?vn:("function"==typeof t?mn:yn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?wn:("function"==typeof t?_n:bn)(t)):this.node().innerHTML},raise:function(){return this.each(xn)},lower:function(){return this.each(Mn)},append:function(t){var n="function"==typeof t?t:At(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:At(t),r=null==n?$n:"function"==typeof n?n:Nt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(kn)},clone:function(t){return this.select(t?An:En)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Sn(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?jn:Nn,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Tn:qn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Hn=.7,Un=1/Hn,Xn="\\s*([+-]?\\d+)\\s*",Bn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yn=/^#([0-9a-f]{3,8})$/,Vn=new RegExp("^rgb\\("+[Xn,Xn,Xn]+"\\)$"),Wn=new RegExp("^rgb\\("+[Fn,Fn,Fn]+"\\)$"),Zn=new RegExp("^rgba\\("+[Xn,Xn,Xn,Bn]+"\\)$"),Jn=new RegExp("^rgba\\("+[Fn,Fn,Fn,Bn]+"\\)$"),Gn=new RegExp("^hsl\\("+[Bn,Fn,Fn]+"\\)$"),Kn=new RegExp("^hsla\\("+[Bn,Fn,Fn,Bn]+"\\)$"),Qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function te(){return this.rgb().formatHex()}function ne(){return this.rgb().formatRgb()}function ee(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Yn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?re(n):3===e?new ue(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?ie(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?ie(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Vn.exec(t))?new ue(n[1],n[2],n[3],1):(n=Wn.exec(t))?new ue(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Zn.exec(t))?ie(n[1],n[2],n[3],n[4]):(n=Jn.exec(t))?ie(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Gn.exec(t))?fe(n[1],n[2]/100,n[3]/100,1):(n=Kn.exec(t))?fe(n[1],n[2]/100,n[3]/100,n[4]):Qn.hasOwnProperty(t)?re(Qn[t]):"transparent"===t?new ue(NaN,NaN,NaN,0):null}function re(t){return new ue(t>>16&255,t>>8&255,255&t,1)}function ie(t,n,e,r){return r<=0&&(t=n=e=NaN),new ue(t,n,e,r)}function oe(t){return t instanceof Dn||(t=ee(t)),t?new ue((t=t.rgb()).r,t.g,t.b,t.opacity):new ue}function ae(t,n,e,r){return 1===arguments.length?oe(t):new ue(t,n,e,null==r?1:r)}function ue(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function se(){return"#"+le(this.r)+le(this.g)+le(this.b)}function ce(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function le(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function fe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new pe(t,n,e,r)}function he(t){if(t instanceof pe)return new pe(t.h,t.s,t.l,t.opacity);if(t instanceof Dn||(t=ee(t)),!t)return new pe;if(t instanceof pe)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new pe(a,u,s,t.opacity)}function pe(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function de(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}In(Dn,ee,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:te,formatHex:te,formatHsl:function(){return he(this).formatHsl()},formatRgb:ne,toString:ne}),In(ue,ae,Ln(Dn,{brighter:function(t){return t=null==t?Un:Math.pow(Un,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Hn:Math.pow(Hn,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:se,formatHex:se,formatRgb:ce,toString:ce})),In(pe,(function(t,n,e,r){return 1===arguments.length?he(t):new pe(t,n,e,null==r?1:r)}),Ln(Dn,{brighter:function(t){return t=null==t?Un:Math.pow(Un,t),new pe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Hn:Math.pow(Hn,t),new pe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new ue(de(t>=240?t-240:t+120,i,r),de(t,i,r),de(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ge=t=>()=>t;function ve(t){return 1==(t=+t)?ye:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ge(isNaN(n)?e:n)}}function ye(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):ge(isNaN(t)?n:t)}var me=function t(n){var e=ve(n);function r(t,n){var r=e((t=ae(t)).r,(n=ae(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=ye(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function we(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function be(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Ae(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function _e(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function xe(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Me(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Ae(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ke=new RegExp($e.source,"g");function Ee(t,n){var e,r,i,o=$e.lastIndex=ke.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=$e.exec(t))&&(r=ke.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:xe(e,r)})),o=ke.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function Ae(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?ge(n):("number"===i?xe:"string"===i?(e=ee(n))?(n=e,me):Ee:n instanceof ee?me:n instanceof Date?_e:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?be:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Me:xe:we))(t,n)}function Se(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ne,je=180/Math.PI,Ce={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qe(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*je,skewX:Math.atan(s)*je,scaleX:a,scaleY:u}}function Te(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:xe(t,i)},{i:s-2,x:xe(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:xe(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:xe(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:xe(t,e)},{i:u-2,x:xe(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Oe,Pe,Re=Te((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ce:qe(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),ze=Te((function(t){return null==t?Ce:(Ne||(Ne=document.createElementNS("http://www.w3.org/2000/svg","g")),Ne.setAttribute("transform",t),(t=Ne.transform.baseVal.consolidate())?qe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ce)}),", ",")",")"),Ie=0,Le=0,De=0,He=0,Ue=0,Xe=0,Be="object"==typeof performance&&performance.now?performance:Date,Fe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ye(){return Ue||(Fe(Ve),Ue=Be.now()+Xe)}function Ve(){Ue=0}function We(){this._call=this._time=this._next=null}function Ze(t,n,e){var r=new We;return r.restart(t,n,e),r}function Je(){Ue=(He=Be.now())+Xe,Ie=Le=0;try{!function(){Ye(),++Ie;for(var t,n=Oe;n;)(t=Ue-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Ie}()}finally{Ie=0,function(){var t,n,e=Oe,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Oe=n);Pe=t,Ke(r)}(),Ue=0}}function Ge(){var t=Be.now(),n=t-He;n>1e3&&(Xe-=n,He=t)}function Ke(t){Ie||(Le&&(Le=clearTimeout(Le)),t-Ue>24?(t<1/0&&(Le=setTimeout(Je,t-Be.now()-Xe)),De&&(De=clearInterval(De))):(De||(He=Be.now(),De=setInterval(Ge,1e3)),Ie=1,Fe(Je)))}function Qe(t,n,e){var r=new We;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}We.prototype=Ze.prototype={constructor:We,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ye():+e)+(null==n?0:+n),this._next||Pe===this||(Pe?Pe._next=this:Oe=this,Pe=this),this._call=t,this._time=e,Ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ke())}};var tr=yt("start","end","cancel","interrupt"),nr=[];function er(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var c,l,f,h;if(1!==e.state)return s();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return Qe(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Qe((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ze(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:tr,tween:nr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function rr(t,n){var e=or(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function ir(t,n){var e=or(t,n);if(e.state>3)throw new Error("too late; already running");return e}function or(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ar(t,n){var e,r;return function(){var i=ir(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function ur(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=ir(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function sr(t,n,e){var r=t._id;return t.each((function(){var t=ir(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return or(t,r).value[n]}}function cr(t,n){var e;return("number"==typeof n?xe:n instanceof ee?me:(e=ee(n))?(n=e,me):Ee)(t,n)}function lr(t){return function(){this.removeAttribute(t)}}function fr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function pr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function dr(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function gr(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function vr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function yr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function mr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&yr(t,i)),e}return i._value=n,i}function wr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&vr(t,i)),e}return i._value=n,i}function br(t,n){return function(){rr(this,t).delay=+n.apply(this,arguments)}}function _r(t,n){return n=+n,function(){rr(this,t).delay=n}}function xr(t,n){return function(){ir(this,t).duration=+n.apply(this,arguments)}}function Mr(t,n){return n=+n,function(){ir(this,t).duration=n}}function $r(t,n){if("function"!=typeof n)throw new Error;return function(){ir(this,t).ease=n}}function kr(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?rr:ir;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Er=Rn.prototype.constructor;function Ar(t){return function(){this.style.removeProperty(t)}}function Sr(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Nr(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Sr(t,o,e)),r}return o._value=n,o}function jr(t){return function(n){this.textContent=t.call(this,n)}}function Cr(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&jr(r)),n}return r._value=t,r}var qr=0;function Tr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Or(){return++qr}var Pr=Rn.prototype;Tr.prototype={constructor:Tr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Nt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,er(f[h],n,e,h,f,or(u,e)));return new Tr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=qt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,p=t.call(s,s.__data__,f,c),d=or(s,e),g=0,v=p.length;g<v;++g)(h=p[g])&&er(h,n,e,g,p,d);o.push(p),a.push(s)}return new Tr(o,a,n,e)},selectChild:Pr.selectChild,selectChildren:Pr.selectChildren,filter:function(t){"function"!=typeof t&&(t=Tt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Tr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new Tr(a,this._parents,this._name,this._id)},selection:function(){return new Er(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Or(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=or(a,n);er(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Tr(r,this._parents,t,e)},call:Pr.call,nodes:Pr.nodes,node:Pr.node,size:Pr.size,empty:Pr.empty,each:Pr.each,on:function(t,n){var e=this._id;return arguments.length<2?or(this.node(),e).on.on(t):this.each(kr(e,t,n))},attr:function(t,n){var e=$t(t),r="transform"===e?ze:cr;return this.attrTween(t,"function"==typeof n?(e.local?gr:dr)(e,r,sr(this,"attr."+t,n)):null==n?(e.local?fr:lr)(e):(e.local?pr:hr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=$t(t);return this.tween(e,(r.local?mr:wr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Re:cr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=rn(this,t),a=(this.style.removeProperty(t),rn(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Ar(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=rn(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=rn(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,sr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=ir(this,t),c=s.on,l=null==s.value[a]?o||(o=Ar(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(u,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=rn(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Nr(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(sr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Cr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=or(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?ar:ur)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?br:_r)(n,t)):or(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?xr:Mr)(n,t)):or(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each($r(n,t)):or(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;ir(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=ir(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:Pr[Symbol.iterator]};var Rr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function zr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Rn.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Rn.prototype.transition=function(t){var n,e;t instanceof Tr?(n=t._id,t=t._name):(n=Or(),(e=Rr).time=Ye(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&er(a,t,n,c,u,e||zr(a,n));return new Tr(r,this._parents,t,n)};var Ir={},Lr={};function Dr(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Hr(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Ur(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Xr(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Ur(-n,6):n>9999?"+"+Ur(n,6):Ur(n,4))+"-"+Ur(t.getUTCMonth()+1,2)+"-"+Ur(t.getUTCDate(),2)+(o?"T"+Ur(e,2)+":"+Ur(r,2)+":"+Ur(i,2)+"."+Ur(o,3)+"Z":i?"T"+Ur(e,2)+":"+Ur(r,2)+":"+Ur(i,2)+"Z":r||e?"T"+Ur(e,2)+":"+Ur(r,2)+"Z":"")}var Br=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function l(){if(s)return Lr;if(c)return c=!1,Ir;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==Lr;){for(var f=[];r!==Ir&&r!==Lr;)f.push(r),r=l();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Xr(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Dr(t);return function(r,i){return n(e(r),i,t)}}(t,n):Dr(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Hr(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Hr(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),Fr=Br.parse;function Yr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Vr(t,n){return fetch(t,n).then(Yr)}var Wr,Zr=(Wr=Fr,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),Vr(t,n).then((function(t){return Wr(t,e)}))});function Jr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Gr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Kr(t){return(t=Gr(Math.abs(t)))?t[1]:NaN}var Qr,ti=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ni(t){if(!(n=ti.exec(t)))throw new Error("invalid format: "+t);var n;return new ei({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function ei(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ri(t,n){var e=Gr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ni.prototype=ei.prototype,ei.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ii={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>ri(100*t,n),r:ri,s:function(t,n){var e=Gr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Qr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Gr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oi(t){return t}var ai,ui,si,ci=Array.prototype.map,li=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fi(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?oi:(n=ci.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?oi:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(ci.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=ni(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,y=t.trim,m=t.type;"n"===m?(g=!0,m="g"):ii[m]||(void 0===v&&(v=12),y=!0,m="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===h?o:/[%p]/.test(m)?s:"",_=ii[m],x=/[defgprs%]/.test(m);function M(t){var i,o,s,h=w,M=b;if("c"===m)M=_(t)+M,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),$&&0==+t&&"+"!==f&&($=!1),h=($?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===m?li[8+Qr/3]:"")+M+($&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var k=h.length+t.length+M.length,E=k<d?new Array(d-k+1).join(n):"";switch(g&&p&&(t=r(E+t,E.length?d-M.length:1/0),E=""),e){case"<":t=h+t+M+E;break;case"=":t=h+E+t+M;break;case"^":t=E.slice(0,k=E.length>>1)+h+t+M+E.slice(k);break;default:t=E+h+t+M}return u(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=ni(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Kr(n)/3))),i=Math.pow(10,-r),o=li[8+r/3];return function(t){return e(i*t)+o}}}}ai=fi({thousands:",",grouping:[3],currency:["$",""]}),ui=ai.format,si=ai.formatPrefix;var hi=1e-6,pi=Math.PI,di=pi/2,gi=pi/4,vi=2*pi,yi=180/pi,mi=pi/180,wi=Math.abs,bi=Math.atan,_i=Math.atan2,xi=Math.cos,Mi=Math.sin,$i=Math.sign||function(t){return t>0?1:t<0?-1:0},ki=Math.sqrt;function Ei(t){return t>1?di:t<-1?-di:Math.asin(t)}function Ai(){}function Si(t,n){t&&ji.hasOwnProperty(t.type)&&ji[t.type](t,n)}var Ni={Feature:function(t,n){Si(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Si(e[r].geometry,n)}},ji={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ci(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ci(e[r],n,0)},Polygon:function(t,n){qi(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)qi(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Si(e[r],n)}};function Ci(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function qi(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ci(t[e],n,1);n.polygonEnd()}function Ti(t){return[_i(t[1],t[0]),Ei(t[2])]}function Oi(t){var n=t[0],e=t[1],r=xi(e);return[r*xi(n),r*Mi(n),Mi(e)]}function Pi(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ri(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function zi(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ii(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Li(t){var n=ki(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Di(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Hi(t,n){return[wi(t)>pi?t+Math.round(-t/vi)*vi:t,n]}function Ui(t){return function(n,e){return[(n+=t)>pi?n-vi:n<-pi?n+vi:n,e]}}function Xi(t){var n=Ui(t);return n.invert=Ui(-t),n}function Bi(t,n){var e=xi(t),r=Mi(t),i=xi(n),o=Mi(n);function a(t,n){var a=xi(n),u=xi(t)*a,s=Mi(t)*a,c=Mi(n),l=c*e+u*r;return[_i(s*i-l*o,u*e-c*r),Ei(l*i+s*o)]}return a.invert=function(t,n){var a=xi(n),u=xi(t)*a,s=Mi(t)*a,c=Mi(n),l=c*i-s*o;return[_i(s*i+c*o,u*e+l*r),Ei(l*e-u*r)]},a}function Fi(t,n){(n=Oi(n))[0]-=t,Li(n);var e,r=(e=-n[1])>1?0:e<-1?pi:Math.acos(e);return((-n[2]<0?-r:r)+vi-hi)%vi}function Yi(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Ai,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Vi(t,n){return wi(t[0]-n[0])<hi&&wi(t[1]-n[1])<hi}function Wi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Zi(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(Vi(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(e=new Wi(r,t,null,!0)),s.push(e.o=new Wi(r,null,e,!1)),u.push(e=new Wi(a,t,null,!1)),s.push(e.o=new Wi(a,null,e,!0))}})),u.length){for(s.sort(n),Ji(u),Ji(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var c,l,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Ji(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Gi(t){return wi(t[0])<=pi?t[0]:$i(t[0])*((wi(t[0])+pi)%vi-pi)}function Ki(t,n,e,r){return function(i){var o,a,u,s=n(i),c=Yi(),l=n(c),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=w,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,a=dt(a);var t=function(t,n){var e=Gi(n),r=n[1],i=Mi(r),o=[Mi(e),-xi(e),0],a=0,u=0,s=new at;1===i?r=di+hi:-1===i&&(r=-di-hi);for(var c=0,l=t.length;c<l;++c)if(h=(f=t[c]).length)for(var f,h,p=f[h-1],d=Gi(p),g=p[1]/2+gi,v=Mi(g),y=xi(g),m=0;m<h;++m,d=b,v=x,y=M,p=w){var w=f[m],b=Gi(w),_=w[1]/2+gi,x=Mi(_),M=xi(_),$=b-d,k=$>=0?1:-1,E=k*$,A=E>pi,S=v*x;if(s.add(_i(S*k*Mi(E),y*M+S*xi(E))),a+=A?$+k*vi:$,A^d>=e^b>=e){var N=Ri(Oi(p),Oi(w));Li(N);var j=Ri(o,N);Li(j);var C=(A^$>=0?-1:1)*Ei(j[2]);(r>C||r===C&&(N[0]||N[1]))&&(u+=A^$>=0?1:-1)}}return(a<-hi||a<hi&&s<-1e-12)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),Zi(a,to,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){s.point(t,n)}function g(){h.point=d,s.lineStart()}function v(){h.point=p,s.lineEnd()}function y(t,n){u.push([t,n]),l.point(t,n)}function m(){l.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),l.lineEnd();var t,n,e,r,s=l.clean(),h=c.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&s){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Qi))}return h}}function Qi(t){return t.length>1}function to(t,n){return((t=t.x)[0]<0?t[1]-di-hi:di-t[1])-((n=n.x)[0]<0?n[1]-di-hi:di-n[1])}Hi.invert=Hi;var no=Ki((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?pi:-pi,s=wi(o-e);wi(s-pi)<hi?(t.point(e,r=(r+a)/2>0?di:-di),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=pi&&(wi(e-i)<hi&&(e-=i*hi),wi(o-u)<hi&&(o-=u*hi),r=function(t,n,e,r){var i,o,a=Mi(t-e);return wi(a)>hi?bi((Mi(n)*(o=xi(r))*Mi(e)-Mi(r)*(i=xi(n))*Mi(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*di,r.point(-pi,i),r.point(0,i),r.point(pi,i),r.point(pi,0),r.point(pi,-i),r.point(0,-i),r.point(-pi,-i),r.point(-pi,0),r.point(-pi,i);else if(wi(t[0]-n[0])>hi){var o=t[0]<n[0]?pi:-pi;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-pi,-di]);function eo(t){var n=xi(t),e=6*mi,r=n>0,i=wi(n)>hi;function o(t,e){return xi(t)*xi(e)>n}function a(t,e,r){var i=[1,0,0],o=Ri(Oi(t),Oi(e)),a=Pi(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=n*a/s,l=-n*u/s,f=Ri(i,o),h=Ii(i,c);zi(h,Ii(o,l));var p=f,d=Pi(h,p),g=Pi(p,p),v=d*d-g*(Pi(h,h)-1);if(!(v<0)){var y=ki(v),m=Ii(p,(-d-y)/g);if(zi(m,h),m=Ti(m),!r)return m;var w,b=t[0],_=e[0],x=t[1],M=e[1];_<b&&(w=b,b=_,_=w);var $=_-b,k=wi($-pi)<hi;if(!k&&M<x&&(w=x,x=M,M=w),k||$<hi?k?x+M>0^m[1]<(wi(m[0]-b)<hi?x:M):x<=m[1]&&m[1]<=M:$>pi^(b<=m[0]&&m[0]<=_)){var E=Ii(p,(-d+y)/g);return zi(E,h),[m,Ti(E)]}}}function u(n,e){var i=r?t:pi-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Ki(o,(function(t){var n,e,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,h){var p,d=[f,h],g=o(f,h),v=r?g?0:u(f,h):g?u(f+(f<0?pi:-pi),h):0;if(!n&&(c=s=g)&&t.lineStart(),g!==s&&(!(p=a(n,d))||Vi(n,p)||Vi(d,p))&&(d[2]=1),g!==s)l=0,g?(t.lineStart(),p=a(d,n),t.point(p[0],p[1])):(p=a(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^g){var y;v&e||!(y=a(d,n,!0))||(l=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&Vi(n,d)||t.point(d[0],d[1]),n=d,s=g,e=v},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return l|(c&&s)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=xi(n),u=Mi(n),s=r*e;null==i?(i=n+r*vi,o=n-s/2):(i=Fi(a,i),o=Fi(a,o),(r>0?i<o:i>o)&&(i+=r*vi));for(var c,l=i;r>0?l>o:l<o;l-=s)c=Ti([a,-u*xi(l),-u*Mi(l)]),t.point(c[0],c[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-pi,t-pi])}var ro=1e9,io=-ro;function oo(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{c.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+u+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return wi(r[0]-t)<hi?i>0?0:3:wi(r[0]-e)<hi?i>0?2:1:wi(r[1]-n)<hi?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,c,l,f,h,p,d,g,v,y,m,w=a,b=Yi(),_={point:x,lineStart:function(){_.point=M,c&&c.push(l=[]);y=!0,v=!1,d=g=NaN},lineEnd:function(){s&&(M(f,h),p&&v&&b.rejoin(),s.push(b.result()));_.point=x,v&&w.lineEnd()},polygonStart:function(){w=b,s=[],c=[],m=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],s=1,l=u.length,f=u[0],h=f[0],p=f[1];s<l;++s)o=h,a=p,h=(f=u[s])[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++n:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--n;return n}(),e=m&&n,i=(s=dt(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Zi(s,u,n,o,a),a.polygonEnd());w=a,s=c=l=null}};function x(t,n){i(t,n)&&w.point(t,n)}function M(o,a){var u=i(o,a);if(c&&l.push([o,a]),y)f=o,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(o,a));else if(u&&v)w.point(o,a);else{var s=[d=Math.max(io,Math.min(ro,d)),g=Math.max(io,Math.min(ro,g))],b=[o=Math.max(io,Math.min(ro,o)),a=Math.max(io,Math.min(ro,a))];!function(t,n,e,r,i,o){var a,u=t[0],s=t[1],c=0,l=1,f=n[0]-u,h=n[1]-s;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=u+c*f,t[1]=s+c*h),l<1&&(n[0]=u+l*f,n[1]=s+l*h),!0}}}}}(s,b,t,n,e,r)?u&&(w.lineStart(),w.point(o,a),m=!1):(v||(w.lineStart(),w.point(s[0],s[1])),w.point(b[0],b[1]),u||w.lineEnd(),m=!1)}d=o,g=a,v=u}return _}}var ao=t=>t,uo=1/0,so=uo,co=-uo,lo=co;var fo={point:function(t,n){t<uo&&(uo=t);t>co&&(co=t);n<so&&(so=n);n>lo&&(lo=n)},lineStart:Ai,lineEnd:Ai,polygonStart:Ai,polygonEnd:Ai,result:function(){var t=[[uo,so],[co,lo]];return co=lo=-(so=uo=1/0),t}};function ho(t){return function(n){var e=new po;for(var r in t)e[r]=t[r];return e.stream=n,e}}function po(){}function go(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),function(t,n){t&&Ni.hasOwnProperty(t.type)?Ni[t.type](t,n):Si(t,n)}(e,t.stream(fo)),n(fo.result()),null!=r&&t.clipExtent(r),t}function vo(t,n,e){return go(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}po.prototype={constructor:po,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var yo=xi(30*mi);function mo(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,c,l,f,h,p,d,g,v){var y=c-r,m=l-i,w=y*y+m*m;if(w>4*n&&g--){var b=a+h,_=u+p,x=s+d,M=ki(b*b+_*_+x*x),$=Ei(x/=M),k=wi(wi(x)-1)<hi||wi(o-f)<hi?(o+f)/2:_i(_,b),E=t(k,$),A=E[0],S=E[1],N=A-r,j=S-i,C=m*N-y*j;(C*C/w>n||wi((y*N+m*j)/w-.5)>.3||a*h+u*p+s*d<yo)&&(e(r,i,o,a,u,s,A,S,k,b/=M,_/=M,x,g,v),v.point(A,S),e(A,S,k,b,_,x,c,l,f,h,p,d,g,v))}}return function(n){var r,i,o,a,u,s,c,l,f,h,p,d,g={point:v,lineStart:y,lineEnd:w,polygonStart:function(){n.polygonStart(),g.lineStart=b},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){l=NaN,g.point=m,n.lineStart()}function m(r,i){var o=Oi([r,i]),a=t(r,i);e(l,f,c,h,p,d,l=a[0],f=a[1],c=r,h=o[0],p=o[1],d=o[2],16,n),n.point(l,f)}function w(){g.point=v,n.lineEnd()}function b(){y(),g.point=_,g.lineEnd=x}function _(t,n){m(r=t,n),i=l,o=f,a=h,u=p,s=d,g.point=m}function x(){e(l,f,c,h,p,d,i,o,r,a,u,s,16,n),g.lineEnd=w,w()}return g}}(t,n):function(t){return ho({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var wo,bo=ho({point:function(t,n){this.stream.point(t*mi,n*mi)}});function _o(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=xi(o),u=Mi(o),s=a*t,c=u*t,l=a/t,f=u/t,h=(u*e-a*n)/t,p=(u*n+a*e)/t;function d(t,o){return[s*(t*=r)-c*(o*=i)+n,e-c*t-s*o]}return d.invert=function(t,n){return[r*(l*t-f*n+h),i*(p-f*t-l*n)]},d}function xo(t){return function(t){var n,e,r,i,o,a,u,s,c,l,f=150,h=480,p=250,d=0,g=0,v=0,y=0,m=0,w=0,b=1,_=1,x=null,M=no,$=null,k=ao,E=.5;function A(t){return s(t[0]*mi,t[1]*mi)}function S(t){return(t=s.invert(t[0],t[1]))&&[t[0]*yi,t[1]*yi]}function N(){var t=_o(f,0,0,b,_,w).apply(null,n(d,g)),r=_o(f,h-t[0],p-t[1],b,_,w);return e=function(t,n,e){return(t%=vi)?n||e?Di(Xi(t),Bi(n,e)):Xi(t):n||e?Bi(n,e):Hi}(v,y,m),u=Di(n,r),s=Di(e,u),a=mo(u,E),j()}function j(){return c=l=null,A}return A.stream=function(t){return c&&l===t?c:c=bo(function(t){return ho({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(k(l=t)))))},A.preclip=function(t){return arguments.length?(M=t,x=void 0,j()):M},A.postclip=function(t){return arguments.length?(k=t,$=r=i=o=null,j()):k},A.clipAngle=function(t){return arguments.length?(M=+t?eo(x=t*mi):(x=null,no),j()):x*yi},A.clipExtent=function(t){return arguments.length?(k=null==t?($=r=i=o=null,ao):oo($=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),j()):null==$?null:[[$,r],[i,o]]},A.scale=function(t){return arguments.length?(f=+t,N()):f},A.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],N()):[h,p]},A.center=function(t){return arguments.length?(d=t[0]%360*mi,g=t[1]%360*mi,N()):[d*yi,g*yi]},A.rotate=function(t){return arguments.length?(v=t[0]%360*mi,y=t[1]%360*mi,m=t.length>2?t[2]%360*mi:0,N()):[v*yi,y*yi,m*yi]},A.angle=function(t){return arguments.length?(w=t%360*mi,N()):w*yi},A.reflectX=function(t){return arguments.length?(b=t?-1:1,N()):b<0},A.reflectY=function(t){return arguments.length?(_=t?-1:1,N()):_<0},A.precision=function(t){return arguments.length?(a=mo(u,E=t*t),j()):ki(E)},A.fitExtent=function(t,n){return vo(A,t,n)},A.fitSize=function(t,n){return function(t,n,e){return vo(t,[[0,0],n],e)}(A,t,n)},A.fitWidth=function(t,n){return function(t,n,e){return go(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}(A,t,n)},A.fitHeight=function(t,n){return function(t,n,e){return go(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}(A,t,n)},function(){return n=t.apply(this,arguments),A.invert=n.invert&&S,N()}}((function(){return t}))()}function Mo(t,n){return[xi(n)*Mi(t),Mi(n)]}function $o(){return xo(Mo).scale(249.5).clipAngle(90.000001)}function ko(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}Mo.invert=(wo=Ei,function(t,n){var e=ki(t*t+n*n),r=wo(e),i=Mi(r),o=xi(r);return[_i(t*i,e*o),Ei(e&&n*i/e)]});const Eo=Symbol("implicit");function Ao(){var t=new ut,n=[],e=[],r=Eo;function i(i){let o=t.get(i);if(void 0===o){if(r!==Eo)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new ut;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ao(n,e).unknown(r)},ko.apply(i,arguments),i}function So(){var t,n,e=Ao().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,u=!1,s=0,c=0,l=.5;function f(){var e=r().length,f=a<o,h=f?a:o,p=f?o:a;t=(p-h)/Math.max(1,e-s+2*c),u&&(t=Math.floor(t)),h+=(p-h-t*(e-s))*l,n=t*(1-s),u&&(h=Math.round(h),n=Math.round(n));var d=gt(e).map((function(n){return h+t*n}));return i(f?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),f()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,f()):u},e.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),f()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),f()):s},e.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),f()):l},e.copy=function(){return So(r(),[o,a]).round(u).paddingInner(s).paddingOuter(c).align(l)},ko.apply(f(),arguments)}function No(t){return+t}var jo=[0,1];function Co(t){return t}function qo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function To(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=qo(i,r),o=e(a,o)):(r=qo(r,i),o=e(o,a)),function(t){return o(r(t))}}function Oo(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=qo(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=ot(t,n,1,r)-1;return o[e](i[e](n))}}function Po(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ro(){var t,n,e,r,i,o,a=jo,u=jo,s=Ae,c=Co;function l(){var t,n,e,s=Math.min(a.length,u.length);return c!==Co&&(t=a[0],n=a[s-1],t>n&&(e=t,t=n,n=e),c=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?Oo:To,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=r(u,a.map(t),xe)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,No),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=Se,l()},f.clamp=function(t){return arguments.length?(c=!!t||Co,l()):c!==Co},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function zo(){return Ro()(Co,Co)}function Io(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=lt?i*=10:o>=ft?i*=5:o>=ht&&(i*=2),n<t?-i:i}(t,n,e);switch((r=ni(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Kr(n)/3)))-Kr(Math.abs(t)))}(o,a))||(r.precision=i),si(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Kr(n)-Kr(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Kr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return ui(r)}function Lo(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=pt(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Io(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u],l=10;for(c<s&&(i=s,s=c,c=i,i=a,a=u,u=i);l-- >0;){if((i=pt(s,c,e))===r)return o[a]=s,o[u]=c,n(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Do(){var t=zo();return t.copy=function(){return Po(t,Do())},ko.apply(t,arguments),Lo(t)}const{window:Ho}=W,Uo=t=>({}),Xo=t=>({}),Bo=t=>({}),Fo=t=>({});function Yo(t){let n,e,r,i,o,a,s,h,p;z(t[21]);const d=t[20].background,g=u(d,t,t[19],Fo),v=t[20].foreground,_=u(v,t,t[19],Xo);return{c(){n=b("svelte-scroller-outer"),e=b("svelte-scroller-background-container"),r=b("svelte-scroller-background"),g&&g.c(),o=M(),a=b("svelte-scroller-foreground"),_&&_.c(),k(r,"class","svelte-xdbafy"),k(e,"class","background-container svelte-xdbafy"),k(e,"style",i=""+(t[5]+t[4])),k(a,"class","svelte-xdbafy"),k(n,"class","svelte-xdbafy")},m(i,u){var c,l,f,d;m(i,n,u),y(n,e),y(e,r),g&&g.m(r,null),t[22](r),y(n,o),y(n,a),_&&_.m(a,null),t[23](a),t[24](n),s=!0,h||(c=Ho,l="resize",f=t[21],c.addEventListener(l,f,d),p=()=>c.removeEventListener(l,f,d),h=!0)},p(t,n){g&&g.p&&(!s||524288&n[0])&&l(g,d,t,t[19],s?c(d,t[19],n,Bo):f(t[19]),Fo),(!s||48&n[0]&&i!==(i=""+(t[5]+t[4])))&&k(e,"style",i),_&&_.p&&(!s||524288&n[0])&&l(_,v,t,t[19],s?c(v,t[19],n,Uo):f(t[19]),Xo)},i(t){s||(F(g,t),F(_,t),s=!0)},o(t){Y(g,t),Y(_,t),s=!1},d(e){e&&w(n),g&&g.d(e),t[22](null),_&&_.d(e),t[23](null),t[24](null),h=!1,p()}}}const Vo=[];let Wo;if("undefined"!=typeof window){const t=()=>Vo.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,n=new IntersectionObserver(((n,e)=>{n.forEach((n=>{const e=t.get(n.target),r=Vo.indexOf(e);n.isIntersecting?-1===r&&Vo.push(e):(e(),-1!==r&&Vo.splice(r,1))}))}),{rootMargin:"400px 0px"});Wo={add:({outer:e,update:r})=>{const{top:i,bottom:o}=e.getBoundingClientRect();i<window.innerHeight&&o>0&&Vo.push(r),t.set(e,r),n.observe(e)},remove:({outer:e,update:r})=>{const i=Vo.indexOf(r);-1!==i&&Vo.splice(i,1),t.delete(e),n.unobserve(e)}}}else Wo={add:({update:t})=>{Vo.push(t)},remove:({update:t})=>{const n=Vo.indexOf(t);-1!==n&&Vo.splice(n,1)}};function Zo(t,n,e){let r,i,o,a,u,s,c,l,f,h,p,{$$slots:d={},$$scope:g}=n,{top:v=0}=n,{bottom:y=1}=n,{threshold:m=.5}=n,{query:w="section"}=n,{parallax:b=!1}=n,{index:_=0}=n,{count:x=0}=n,{offset:M=0}=n,{progress:$=0}=n,{visible:k=!1}=n,E=0,A=0,S=1;function N(){if(!c)return;const t=s.getBoundingClientRect();f=t.left,e(18,S=t.right-f);const n=c.getBoundingClientRect(),a=l.getBoundingClientRect();e(10,k=n.top<E&&n.bottom>0);const u=n.bottom-n.top,d=a.bottom-a.top,g=i-r;e(9,$=(r-n.top)/(u-g)),$<=0?(e(17,A=0),e(16,p=!1)):$>=1?(e(17,A=b?u-d:u-g),e(16,p=!1)):(e(17,A=b?Math.round(r-$*(d-g)):r),e(16,p=!0));for(let t=0;t<h.length;t++){const r=h[t],{top:i}=r.getBoundingClientRect(),a=h[t+1],u=a?a.getBoundingClientRect().top:n.bottom;if(e(8,M=(o-i)/(u-i)),u>=o){e(6,_=t);break}}}return j((()=>{h=c.querySelectorAll(w),e(7,x=h.length),N();const t={outer:s,update:N};return Wo.add(t),()=>Wo.remove(t)})),t.$$set=t=>{"top"in t&&e(11,v=t.top),"bottom"in t&&e(12,y=t.bottom),"threshold"in t&&e(13,m=t.threshold),"query"in t&&e(14,w=t.query),"parallax"in t&&e(15,b=t.parallax),"index"in t&&e(6,_=t.index),"count"in t&&e(7,x=t.count),"offset"in t&&e(8,M=t.offset),"progress"in t&&e(9,$=t.progress),"visible"in t&&e(10,k=t.visible),"$$scope"in t&&e(19,g=t.$$scope)},t.$$.update=()=>{2049&t.$$.dirty[0]&&(r=Math.round(v*E)),4097&t.$$.dirty[0]&&(i=Math.round(y*E)),8193&t.$$.dirty[0]&&(o=Math.round(m*E)),47104&t.$$.dirty[0]&&N(),196608&t.$$.dirty[0]&&e(5,a=`\n\t\tposition: ${p?"fixed":"absolute"};\n\t\ttop: 0;\n\t\ttransform: translate(0, ${A}px);\n\t\tz-index: 1;\n\t`),327680&t.$$.dirty[0]&&e(4,u=p?`width:${S}px;`:"")},[E,s,c,l,u,a,_,x,M,$,k,v,y,m,w,b,p,A,S,g,d,function(){e(0,E=Ho.innerHeight)},function(t){q[t?"unshift":"push"]((()=>{l=t,e(3,l)}))},function(t){q[t?"unshift":"push"]((()=>{c=t,e(2,c)}))},function(t){q[t?"unshift":"push"]((()=>{s=t,e(1,s)}))}]}class Jo extends nt{constructor(t){super(),tt(this,t,Zo,Yo,o,{top:11,bottom:12,threshold:13,query:14,parallax:15,index:6,count:7,offset:8,progress:9,visible:10},null,[-1,-1])}}const Go=[];function Ko(t){return"[object Date]"===Object.prototype.toString.call(t)}function Qo(t,n,e,r){if("number"==typeof e||Ko(e)){const i=r-e,o=(e-n)/(t.dt||1/60),a=(o+(t.opts.stiffness*i-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(a)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,Ko(e)?new Date(e.getTime()+a):e+a)}if(Array.isArray(e))return e.map(((i,o)=>Qo(t,n[o],e[o],r[o])));if("object"==typeof e){const i={};for(const o in e)i[o]=Qo(t,n[o],e[o],r[o]);return i}throw new Error(`Cannot spring ${typeof e} values`)}function ta(n,e={}){const r=function(n,e=t){let r;const i=new Set;function a(t){if(o(n,t)&&(n=t,r)){const t=!Go.length;for(const t of i)t[1](),Go.push(t,n);if(t){for(let t=0;t<Go.length;t+=2)Go[t][0](Go[t+1]);Go.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(o,u=t){const s=[o,u];return i.add(s),1===i.size&&(r=e(a)||t),o(n),()=>{i.delete(s),0===i.size&&(r(),r=null)}}}}(n),{stiffness:i=.15,damping:a=.8,precision:u=.01}=e;let s,c,l,f=n,h=n,y=1,m=0,w=!1;function b(t,e={}){h=t;const i=l={};if(null==n||e.hard||_.stiffness>=1&&_.damping>=1)return w=!0,s=p(),f=t,r.set(n=h),Promise.resolve();if(e.soft){const t=!0===e.soft?.5:+e.soft;m=1/(60*t),y=0}return c||(s=p(),w=!1,c=function(t){let n;return 0===g.size&&d(v),{promise:new Promise((e=>{g.add(n={c:t,f:e})})),abort(){g.delete(n)}}}((t=>{if(w)return w=!1,c=null,!1;y=Math.min(y+m,1);const e={inv_mass:y,opts:_,settled:!0,dt:60*(t-s)/1e3},i=Qo(e,f,n,h);return s=t,f=n,r.set(n=i),e.settled&&(c=null),!e.settled}))),new Promise((t=>{c.promise.then((()=>{i===l&&t()}))}))}const _={set:b,update:(t,e)=>b(t(h,n),e),subscribe:r.subscribe,stiffness:i,damping:a,precision:u};return _}function na(t,n,e){const r=t.slice();return r[25]=n[e].cx,r[26]=n[e].cy,r[27]=n[e].cr,r[28]=n[e].opacity,r[29]=n[e].r,r[30]=n[e].g,r[31]=n[e].b,r[32]=n[e].id,r}function ea(t){let n,e,r,i,o,a,u;return{c(){n=_("circle"),$(n,"style",e=t[10](t[25],t[26])),$(n,"r",r=t[27]),$(n,"stroke","black"),$(n,"stroke-width","1"),$(n,"stroke-opacity",i=t[28]),$(n,"fill",o="rgb("+t[29]+", "+t[30]+", "+t[31]+")"),$(n,"fill-opacity",a=t[28]),$(n,"id",u=t[32])},m(t,e){m(t,n,e)},p(t,s){16&s[0]&&e!==(e=t[10](t[25],t[26]))&&$(n,"style",e),16&s[0]&&r!==(r=t[27])&&$(n,"r",r),16&s[0]&&i!==(i=t[28])&&$(n,"stroke-opacity",i),16&s[0]&&o!==(o="rgb("+t[29]+", "+t[30]+", "+t[31]+")")&&$(n,"fill",o),16&s[0]&&a!==(a=t[28])&&$(n,"fill-opacity",a),16&s[0]&&u!==(u=t[32])&&$(n,"id",u)},d(t){t&&w(n)}}}function ra(t){let n,e,r,i,o,a,u,s,c,l,f,h,p,d,g,v,k,A,S,N,j,C,q,T,O,P,R,z,I,L=t[4],D=[];for(let n=0;n<L.length;n+=1)D[n]=ea(na(t,L,n));return{c(){n=b("div"),e=b("div"),e.innerHTML='<strong><span id="object">Object</span></strong><br/> \n      <span id="country">Country</span> \n      <span id="category">Category</span><br/> \n      <span id="year">Year</span>',r=M(),i=b("div"),o=b("canvas"),a=M(),u=_("svg"),s=_("defs"),c=_("mask"),l=_("rect"),f=_("circle"),h=_("rect"),p=M(),d=b("div"),g=b("canvas"),v=M(),k=_("svg"),A=_("defs"),S=_("mask"),N=_("rect"),j=_("circle"),C=_("rect"),q=M(),T=_("svg"),O=_("text"),P=x("Near side"),R=_("text"),z=x("Far side"),I=_("g");for(let t=0;t<D.length;t+=1)D[t].c();$(e,"class","tooltip tooltip__2d svelte-8q2l0i"),$(o,"width",t[5]),$(o,"height",t[6]),$(o,"id","raster-0"),$(l,"x","0"),$(l,"y","0"),$(l,"width",t[8]),$(l,"height",t[9]),$(l,"fill","white"),$(f,"cx",t[8]/2),$(f,"cy",t[9]/2),$(f,"r",t[8]>t[9]?t[9]/2:t[8]/2),$(c,"id","moon-near"),$(h,"x","0"),$(h,"y","0"),$(h,"width",t[8]),$(h,"height",t[9]),$(h,"fill","rgb(0, 0, 0)"),$(h,"mask","url(#moon-near)"),$(u,"transform","translate("+t[7].l+", "+t[7].t+")"),$(u,"width",t[8]),$(u,"height",t[9]),$(u,"class","svelte-8q2l0i"),$(i,"class","rasterMoon svelte-8q2l0i"),E(i,"opacity",t[3].near),$(g,"width",t[5]),$(g,"height",t[6]),$(g,"id","raster-1"),$(N,"x","0"),$(N,"y","0"),$(N,"width",t[8]),$(N,"height",t[9]),$(N,"fill","white"),$(j,"cx",t[8]/2),$(j,"cy",t[9]/2),$(j,"r",t[8]>t[9]?t[9]/2:t[8]/2),$(S,"id","moon-far"),$(C,"x","0"),$(C,"y","0"),$(C,"width",t[8]),$(C,"height",t[9]),$(C,"fill","rgb(0, 0, 0)"),$(C,"mask","url(#moon-far)"),$(k,"transform","translate("+t[7].l+", "+t[7].t+")"),$(k,"width",t[8]),$(k,"height",t[9]),$(k,"class","svelte-8q2l0i"),$(d,"class","rasterMoon svelte-8q2l0i"),E(d,"opacity",t[3].far),$(O,"x",t[7].l),$(O,"y",t[7].t),$(O,"fill","white"),$(O,"class","chart-subtitle svelte-8q2l0i"),E(O,"opacity",t[3].near),$(R,"x",t[7].l),$(R,"y",t[7].t+t[6]),$(R,"fill","white"),$(R,"class","chart-subtitle svelte-8q2l0i"),E(R,"opacity",t[3].far),$(T,"width",window.innerWidth/2),$(T,"height",window.innerHeight),$(T,"class","scrolly-circles svelte-8q2l0i"),$(n,"class","background svelte-8q2l0i"),$(n,"slot","background")},m(t,w){m(t,n,w),y(n,e),y(n,r),y(n,i),y(i,o),y(i,a),y(i,u),y(u,s),y(s,c),y(c,l),y(c,f),y(u,h),y(n,p),y(n,d),y(d,g),y(d,v),y(d,k),y(k,A),y(A,S),y(S,N),y(S,j),y(k,C),y(n,q),y(n,T),y(T,O),y(O,P),y(T,R),y(R,z),y(T,I);for(let t=0;t<D.length;t+=1)D[t].m(I,null)},p(t,n){if(8&n[0]&&E(i,"opacity",t[3].near),8&n[0]&&E(d,"opacity",t[3].far),8&n[0]&&E(O,"opacity",t[3].near),8&n[0]&&E(R,"opacity",t[3].far),1040&n[0]){let e;for(L=t[4],e=0;e<L.length;e+=1){const r=na(t,L,e);D[e]?D[e].p(r,n):(D[e]=ea(r),D[e].c(),D[e].m(I,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=L.length}},d(t){t&&w(n),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(D,t)}}}function ia(t){let n;return{c(){n=b("div"),n.innerHTML='<section class="step svelte-8q2l0i" data-section-id="0"><p>This side of the Moon may look familiar. This is the near side, and we can only see this side of the Moon.</p></section> \n    <section class="step svelte-8q2l0i" data-section-id="1"><p>And the image below shows the far side. From Earth, we’d need to go around the Moon to reach this side.</p></section> \n    <section class="step svelte-8q2l0i" data-section-id="2"><p>Chang’e 4’s landing site is spotted here. The rover Yutu 2, as well as the “mysterious hut” spotted by the rover is a few hundred meters away from the landing location.</p></section> \n    <section class="step svelte-8q2l0i" data-section-id="3"><p>The first human-made object to touch the Moon was in 1959, the Soviet Union&#39;s Luna 2.</p></section> \n    <section class="step svelte-8q2l0i" data-section-id="4"><p>In NASA’s catalogue of man-made objects, out of over 800 objects and landing points, 64 include available locations.</p></section> \n    <section class="step svelte-8q2l0i" data-section-id="5"><p>Out of 741 objects without location informations, 724 were brought by Apollo missions in the late 1960s and early 1970s. Objects brought through Apollo missions and their landing locations are shown here.</p></section> \n    <section class="step svelte-8q2l0i" data-section-id="6"><p>Overall, there have been far less human activities on the far side. The hurdles are simply higher on far-side missions.</p></section> \n    <section class="step svelte-8q2l0i" data-section-id="7"><p>More than 96% of those objects were left by the U.S., followed by the Soviet Union. Other countries include China, India, Japan, and the European Space Agency (ESA).</p></section> \n    <section class="step svelte-8q2l0i" data-section-id="8"><p>In the late 60s to early 70s, the Soviet Union and the U.S. were in the “Space Race” -- the competition during the Cold War to achieve superior spaceflight capability.</p> \n      <p>The countries continuously conducted space missions, and a vast number of man-made objects were left on the Moon.</p> \n      <p>There was a huge spike in the number of human artifacts on the moon in the late 1960s and 1970s.</p></section>',$(n,"class","foreground svelte-8q2l0i"),$(n,"slot","foreground")},m(t,e){m(t,n,e)},d(t){t&&w(n)}}}function oa(t){let n,e,r,i,o;function a(n){t[19](n)}function u(n){t[20](n)}function s(n){t[21](n)}let c={top:0,bottom:1,$$slots:{foreground:[ia],background:[ra]},$$scope:{ctx:t}};return void 0!==t[0]&&(c.index=t[0]),void 0!==t[1]&&(c.offset=t[1]),void 0!==t[2]&&(c.progress=t[2]),n=new Jo({props:c}),q.push((()=>Z(n,"index",a))),q.push((()=>Z(n,"offset",u))),q.push((()=>Z(n,"progress",s))),{c(){J(n.$$.fragment)},m(t,e){G(n,t,e),o=!0},p(t,o){const a={};24&o[0]|16&o[1]&&(a.$$scope={dirty:o,ctx:t}),!e&&1&o[0]&&(e=!0,a.index=t[0],I((()=>e=!1))),!r&&2&o[0]&&(r=!0,a.offset=t[1],I((()=>r=!1))),!i&&4&o[0]&&(i=!0,a.progress=t[2],I((()=>i=!1))),n.$set(a)},i(t){o||(F(n.$$.fragment,t),o=!0)},o(t){Y(n.$$.fragment,t),o=!1},d(t){K(n,t)}}}function aa(t,n,e){let r,i,o,u,s,{data:c}=n,{geo:l}=n;console.log(l),console.log(c);const f=window.innerWidth/2,h=window.innerHeight/2,p={t:75,r:25,b:25,l:25},d=f-p.l-p.r>520?f-p.l-p.r:520,g=h-p.t-p.b,v=[{side:"near",projection:$o().fitSize([d,g],l)},{side:"far",projection:$o().rotate([180,0]).fitSize([d,g],l)}];let y,m,w;var b;j((async()=>{y=function(t){return"string"==typeof t?new Pn([document.querySelectorAll(t)],[document.documentElement]):new Pn([jt(t)],On)}(".rasterMoon"),y.each((function(t,n){const e=v[n].projection,r=zn(this).select("canvas").node().getContext("2d"),i=p.l,o=p.t,a=new Image;a.onload=function(){let t=a.width/2,n=a.height/2;r.drawImage(a,i,o,t,n);let u=r.getImageData(i,o,t,n).data,s=r.createImageData(d,g),c=s.data;for(let r=0,i=-1;r<g;++r)for(let o=0;o<d;++o){let a=e.invert([o,r]),s=a[0],l=a[1];if(s>180||s<-180||l>90||l<-90){i+=4;continue}let f=((90-l)/180*n|0)*t+((180+s)/360*t|0)<<2;c[++i]=u[f],c[++i]=u[++f],c[++i]=u[++f],c[++i]=255}r.clearRect(i,o,d,g),r.putImageData(s,i,o)},a.src="./image/moon_lowres.jpeg"}))})),b=()=>{zn(".background-container").style("z-index","999").style("pointer-events","auto");const t=zn(".scrolly-circles").selectAll("circle"),n=zn(".tooltip__2d");t.on("mouseover",(function(t){let e=zn(this).attr("id"),r=c.filter((t=>t.id===+e))[0];zn(this).attr("stroke-width","5"),n.style("display","block").style("top",`${t.clientY+5}px`).style("left",`${t.clientX+5}px`).html(`<strong>${r.object}</strong><br>\n                ${r.country} ${r.us_category} <br>\n                ${r.launch_year}`)})),t.on("mouseout",(function(){zn(this).attr("stroke-width","1"),n.style("display","none")}))},N().$$.after_update.push(b);const _={r:255,g:233,b:0};let x,M=ta(c.map((t=>({cx:0,cy:0,cr:0,opacity:1,r:0,g:0,b:0,id:0}))),{stiffness:.1,damping:.9});a(t,M,(t=>e(4,i=t)));let $,k=ta({near:1,far:0},{stiffness:.1,damping:.9});return a(t,k,(t=>e(3,r=t))),t.$$set=t=>{"data"in t&&e(13,c=t.data),"geo"in t&&e(14,l=t.geo)},t.$$.update=()=>{499713&t.$$.dirty[0]&&(0===o?(e(18,$={near:1,far:0}),e(17,x=c.map((t=>({cx:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[0]+p.l:v[1].projection([t.east,t.north])[0]+p.l,cy:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[1]+p.t:v[1].projection([t.east,t.north])[1]+h+p.t,cr:d/130,opacity:0,r:_.r,g:_.g,b:_.b,id:t.id}))))):1===o?(e(18,$={near:.3,far:1}),e(17,x=c.map((t=>({cx:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[0]+p.l:v[1].projection([t.east,t.north])[0]+p.l,cy:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[1]+p.t:v[1].projection([t.east,t.north])[1]+h+p.t,cr:d/130,opacity:0,r:_.r,g:_.g,b:_.b,id:t.id}))))):2===o?(e(18,$={near:.3,far:1}),e(17,x=c.map((t=>({cx:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[0]+p.l:v[1].projection([t.east,t.north])[0]+p.l,cy:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[1]+p.t:v[1].projection([t.east,t.north])[1]+h+p.t,cr:d/130,opacity:"Chang'e 4"===t.object?1:0,r:_.r,g:_.g,b:_.b,id:t.id}))))):3===o?(e(18,$={near:1,far:.5}),e(17,x=c.map((t=>({cx:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[0]+p.l:v[1].projection([t.east,t.north])[0]+p.l,cy:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[1]+p.t:v[1].projection([t.east,t.north])[1]+h+p.t,cr:d/130,opacity:1959===t.launch_year?1:0,r:_.r,g:_.g,b:_.b,id:t.id}))))):4===o||6===o?(e(18,$={near:1,far:1}),e(17,x=c.map((t=>({cx:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[0]+p.l:v[1].projection([t.east,t.north])[0]+p.l,cy:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[1]+p.t:v[1].projection([t.east,t.north])[1]+h+p.t,cr:d/130,opacity:0===t.east||"Chang'e 4"===t.object?0:.8,r:_.r,g:_.g,b:_.b,id:t.id}))))):5===o?(e(18,$={near:1,far:1}),e(17,x=c.map((t=>({cx:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[0]+p.l:v[1].projection([t.east,t.north])[0]+p.l,cy:Math.abs(t.east)<90?v[0].projection([t.east,t.north])[1]+p.t:v[1].projection([t.east,t.north])[1]+h+p.t,cr:d/130,opacity:"TRUE"===t.is_apollo&&0!==t.east?.8:0,r:_.r,g:_.g,b:_.b,id:t.id}))))):7===o?(e(15,m=Do().domain([1,30]).range([p.l,f-300])),e(16,w=Do().domain([1958,2009]).range([2*h-p.b,p.t])),e(18,$={near:0,far:0}),e(17,x=c.map((t=>({cx:"NA"!==t.by_year?m(t.by_year%50):0,cy:"NA"!==t.by_year?w(t.launch_year):0,cr:d/130,opacity:"NA"===t.by_year?0:.8,r:_.r,g:_.g,b:_.b,id:t.id}))))):8===o&&(e(15,m=Do().domain([1,30]).range([p.l,f-300])),e(16,w=So().domain(["US","Soviet","India","China","Japan","ESA"]).range([2*h-p.b,p.t])),e(18,$={near:0,far:0}),e(17,x=c.map((t=>({cx:"NA"!==t.by_country?m(t.by_country%50):0,cy:"NA"!==t.by_country?w(t.country):0,cr:d/130,opacity:"NA"===t.by_year?0:.8,r:_.r,g:_.g,b:_.b,id:t.id}))))),k.set($),M.set(x))},[o,u,s,r,i,f,h,p,d,g,(t,n)=>`transform: translate(${t}px, ${n}px)`,M,k,c,l,m,w,x,$,function(t){o=t,e(0,o)},function(t){u=t,e(1,u)},function(t){s=t,e(2,s)}]}class ua extends nt{constructor(t){super(),tt(this,t,aa,oa,o,{data:13,geo:14},null,[-1,-1])}}function sa(n){let e,r,i,o,a,u,s,c,l,f,h,p,d,g,v,y,_,x,$,k,E,A,S,N;return h=new ua({props:{data:n[0],geo:n[1]}}),{c(){e=b("br"),r=b("br"),i=b("br"),o=b("br"),a=b("br"),u=b("br"),s=b("br"),c=b("br"),l=b("br"),f=M(),J(h.$$.fragment),p=M(),d=b("section"),d.innerHTML="<article><h2>Non of our business?</h2> \n    <p>The number of man-made objects, or moon junks are only increasing.</p> \n    <p>They might be small compared to the whole moon, or they might be so far away from us. But think about the Moon you might see tonight.</p> \n    <p>The Moon phase tonight will be Waxing Crescent, and within the area that is visible to us, there are 7 moon junks or human landing locations.</p> \n    <p>Protecting the Earth may sound our priority, but it doesn&#39;t mean we are encouraged to move pollutants to the space.</p></article>",g=M(),v=b("br"),y=b("br"),_=b("br"),x=b("br"),$=b("br"),k=b("br"),E=b("br"),A=b("br"),S=b("br")},m(t,n){m(t,e,n),m(t,r,n),m(t,i,n),m(t,o,n),m(t,a,n),m(t,u,n),m(t,s,n),m(t,c,n),m(t,l,n),m(t,f,n),G(h,t,n),m(t,p,n),m(t,d,n),m(t,g,n),m(t,v,n),m(t,y,n),m(t,_,n),m(t,x,n),m(t,$,n),m(t,k,n),m(t,E,n),m(t,A,n),m(t,S,n),N=!0},p:t,i(t){N||(F(h.$$.fragment,t),N=!0)},o(t){Y(h.$$.fragment,t),N=!1},d(t){t&&w(e),t&&w(r),t&&w(i),t&&w(o),t&&w(a),t&&w(u),t&&w(s),t&&w(c),t&&w(l),t&&w(f),K(h,t),t&&w(p),t&&w(d),t&&w(g),t&&w(v),t&&w(y),t&&w(_),t&&w(x),t&&w($),t&&w(k),t&&w(E),t&&w(A),t&&w(S)}}}function ca(t,n,e){let{data:r}=n,i=r[0],o=r[1];return(t=>{t.map((t=>{t.by_year=+t.by_year,t.by_country=+t.by_country,t.launch_year=+t.launch_year,t.north=+t.north,t.east=+t.east,t.id=+t.id}))})(i),t.$$set=t=>{"data"in t&&e(2,r=t.data)},[i,o,r]}class la extends nt{constructor(t){super(),tt(this,t,ca,sa,o,{data:2})}}function fa(n){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ha(t){let n,e;return n=new la({props:{data:t[0]}}),{c(){J(n.$$.fragment)},m(t,r){G(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.data=t[0]),n.$set(r)},i(t){e||(F(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){K(n,t)}}}function pa(n){return{c:t,m:t,p:t,i:t,o:t,d:t}}function da(t){let n,e,r={ctx:t,current:null,token:null,hasCatch:!1,pending:pa,then:ha,catch:fa,value:3,blocks:[,,,]};return V(t[1],r),{c(){n=b("main"),r.block.c(),$(n,"class","svelte-srgchr")},m(t,i){m(t,n,i),r.block.m(n,r.anchor=null),r.mount=()=>n,r.anchor=null,e=!0},p(n,[e]){!function(t,n,e){const r=n.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,e)}(r,t=n,e)},i(t){e||(F(r.block),e=!0)},o(t){for(let t=0;t<3;t+=1){Y(r.blocks[t])}e=!1},d(t){t&&w(n),r.block.d(),r.token=null,r=null}}}function ga(t,n,e){let{datasets:r=[]}=n,i=async function(){let t=await Zr("data/manmade_materials_full.csv"),n=await function(t,n){return fetch(t,n).then(Jr)}("data/moon.geo.json");e(0,r=await([t,n]))}();return t.$$set=t=>{"datasets"in t&&e(0,r=t.datasets)},[r,i]}return new class extends nt{constructor(t){super(),tt(this,t,ga,da,o,{datasets:0})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
